<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Volta: ChargeDockDetection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Volta
   </div>
   <div id="projectbrief">With increase in use of swarm of robots and each robot being limited by its power capability, it is necessary for these robots to plan their charging cycle and recharge by themselves.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classChargeDockDetection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ChargeDockDetection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class runs image processing on captured images to detect charging dock.  
 <a href="classChargeDockDetection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ChargeDockDetection_8h_source.html">ChargeDockDetection.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7241a471c53bd34fc51216f53eabfbda"><td class="memItemLeft" align="right" valign="top">cv_bridge::CvImagePtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChargeDockDetection.html#a7241a471c53bd34fc51216f53eabfbda">checkForChargeDock</a> (const sensor_msgs::ImageConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a7241a471c53bd34fc51216f53eabfbda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Image processing algorithm to find presence of charging dock.  <a href="#a7241a471c53bd34fc51216f53eabfbda">More...</a><br /></td></tr>
<tr class="separator:a7241a471c53bd34fc51216f53eabfbda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f05be8102da8a3532c6def0cf39c8ab"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChargeDockDetection.html#a7f05be8102da8a3532c6def0cf39c8ab">checkerBoardDetect</a> (cv_bridge::CvImagePtr cvPtr, std::vector&lt; cv::Point2f &gt; &amp;corners)</td></tr>
<tr class="memdesc:a7f05be8102da8a3532c6def0cf39c8ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Image detection algorithm for checker board.  <a href="#a7f05be8102da8a3532c6def0cf39c8ab">More...</a><br /></td></tr>
<tr class="separator:a7f05be8102da8a3532c6def0cf39c8ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50426b1798b3dbbfc0aba400680ed0b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChargeDockDetection.html#ac50426b1798b3dbbfc0aba400680ed0b">depthcallback</a> (const sensor_msgs::PointCloud2ConstPtr &amp;cloud_msg)</td></tr>
<tr class="memdesc:ac50426b1798b3dbbfc0aba400680ed0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call back function for receiving RGBD image.  <a href="#ac50426b1798b3dbbfc0aba400680ed0b">More...</a><br /></td></tr>
<tr class="separator:ac50426b1798b3dbbfc0aba400680ed0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8be197c6fbb3af41cb9a0fe15045b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChargeDockDetection.html#aaa8be197c6fbb3af41cb9a0fe15045b3">getXYZ</a> (int x, int y, float &amp;depthX, float &amp;depthY, float &amp;depthZ)</td></tr>
<tr class="memdesc:aaa8be197c6fbb3af41cb9a0fe15045b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get X, Y and Z coordinates of charge dock.  <a href="#aaa8be197c6fbb3af41cb9a0fe15045b3">More...</a><br /></td></tr>
<tr class="separator:aaa8be197c6fbb3af41cb9a0fe15045b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5788035f6b303d005a514a0760de3f0e"><td class="memItemLeft" align="right" valign="top">cv::Point2f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChargeDockDetection.html#a5788035f6b303d005a514a0760de3f0e">centroid</a> (std::vector&lt; cv::Point2f &gt; points)</td></tr>
<tr class="memdesc:a5788035f6b303d005a514a0760de3f0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Places markers for charging docks in rviz environment.  <a href="#a5788035f6b303d005a514a0760de3f0e">More...</a><br /></td></tr>
<tr class="separator:a5788035f6b303d005a514a0760de3f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefb4f971d65c6e68bfc9096ff39e450"><td class="memItemLeft" align="right" valign="top">tf::Transform&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChargeDockDetection.html#aaefb4f971d65c6e68bfc9096ff39e450">broadcastTflocal</a> (float x, float y, float z)</td></tr>
<tr class="memdesc:aaefb4f971d65c6e68bfc9096ff39e450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates transforms for charging docks in rviz environment.  <a href="#aaefb4f971d65c6e68bfc9096ff39e450">More...</a><br /></td></tr>
<tr class="separator:aaefb4f971d65c6e68bfc9096ff39e450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65ff4538e48d0508ea498d3e4b0aa4c2"><td class="memItemLeft" align="right" valign="top">tf::Transform&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChargeDockDetection.html#a65ff4538e48d0508ea498d3e4b0aa4c2">broadcastTfodom</a> (tf::StampedTransform transform, float &amp;x, float &amp;y, float &amp;z)</td></tr>
<tr class="memdesc:a65ff4538e48d0508ea498d3e4b0aa4c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates transforms for charging docks in rviz environment.  <a href="#a65ff4538e48d0508ea498d3e4b0aa4c2">More...</a><br /></td></tr>
<tr class="separator:a65ff4538e48d0508ea498d3e4b0aa4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab340306d0a7b9fa08b8a3e50e5aa13a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChargeDockDetection.html#ab340306d0a7b9fa08b8a3e50e5aa13a5">ChargeDockDetection</a> ()</td></tr>
<tr class="memdesc:ab340306d0a7b9fa08b8a3e50e5aa13a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the class.  <a href="#ab340306d0a7b9fa08b8a3e50e5aa13a5">More...</a><br /></td></tr>
<tr class="separator:ab340306d0a7b9fa08b8a3e50e5aa13a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0b045a92e53c82ac19e7747b3c5ff3"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChargeDockDetection.html#a5a0b045a92e53c82ac19e7747b3c5ff3">~ChargeDockDetection</a> ()</td></tr>
<tr class="memdesc:a5a0b045a92e53c82ac19e7747b3c5ff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for the class.  <a href="#a5a0b045a92e53c82ac19e7747b3c5ff3">More...</a><br /></td></tr>
<tr class="separator:a5a0b045a92e53c82ac19e7747b3c5ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aeafcab174c793462fb36207fb937b3ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeafcab174c793462fb36207fb937b3ab"></a>
sensor_msgs::PointCloud2&#160;</td><td class="memItemRight" valign="bottom"><b>my_pcl</b></td></tr>
<tr class="separator:aeafcab174c793462fb36207fb937b3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079c01041db17f8c0c9ca290c89c15e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a079c01041db17f8c0c9ca290c89c15e3"></a>
cv::Point2f&#160;</td><td class="memItemRight" valign="bottom"><b>center</b></td></tr>
<tr class="separator:a079c01041db17f8c0c9ca290c89c15e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class runs image processing on captured images to detect charging dock. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab340306d0a7b9fa08b8a3e50e5aa13a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ChargeDockDetection::ChargeDockDetection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nh</td><td>Node handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a5a0b045a92e53c82ac19e7747b3c5ff3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ChargeDockDetection::~ChargeDockDetection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor for the class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaefb4f971d65c6e68bfc9096ff39e450"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tf::Transform ChargeDockDetection::broadcastTflocal </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates transforms for charging docks in rviz environment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x,y,z</td><td>Point for which transformation form camera link has to be found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>tr Transform of the point with respect to camera frame </dd></dl>

</div>
</div>
<a class="anchor" id="a65ff4538e48d0508ea498d3e4b0aa4c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tf::Transform ChargeDockDetection::broadcastTfodom </td>
          <td>(</td>
          <td class="paramtype">tf::StampedTransform&#160;</td>
          <td class="paramname"><em>transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates transforms for charging docks in rviz environment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Transform</td><td>Transform form odom to camera link </td></tr>
    <tr><td class="paramname">x,y,z</td><td>Point for which transformation form odom has to be found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>tr Transform of the point with respect to camera frame </dd></dl>

</div>
</div>
<a class="anchor" id="a5788035f6b303d005a514a0760de3f0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Point2f ChargeDockDetection::centroid </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; cv::Point2f &gt;&#160;</td>
          <td class="paramname"><em>points</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Places markers for charging docks in rviz environment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">points</td><td>Points for which centroid has to be calculated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a7f05be8102da8a3532c6def0cf39c8ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat ChargeDockDetection::checkerBoardDetect </td>
          <td>(</td>
          <td class="paramtype">cv_bridge::CvImagePtr&#160;</td>
          <td class="paramname"><em>cvPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point2f &gt; &amp;&#160;</td>
          <td class="paramname"><em>corners</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Image detection algorithm for checker board. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pointer</td><td>Pointer to OpenCV image and </td></tr>
    <tr><td class="paramname">Corners</td><td>Corners points of the checker board squares </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Image Image that has checker board marked </dd></dl>

</div>
</div>
<a class="anchor" id="a7241a471c53bd34fc51216f53eabfbda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv_bridge::CvImagePtr ChargeDockDetection::checkForChargeDock </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::ImageConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Image processing algorithm to find presence of charging dock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Pointer for image in OpenCV format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CvPointer Pointer to image of type bridge image message </dd></dl>

</div>
</div>
<a class="anchor" id="ac50426b1798b3dbbfc0aba400680ed0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChargeDockDetection::depthcallback </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::PointCloud2ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>cloud_msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call back function for receiving RGBD image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pointer</td><td>to depth image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean Returns true every time RGBD image is receieved </dd></dl>

</div>
</div>
<a class="anchor" id="aaa8be197c6fbb3af41cb9a0fe15045b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChargeDockDetection::getXYZ </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>depthX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>depthY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>depthZ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get X, Y and Z coordinates of charge dock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">X,Y</td><td>the xy points on image were charge dock is detected </td></tr>
    <tr><td class="paramname">depthX,depthY,depthX</td><td>X, Y, Z points of the dock with respect to camera frame </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean True if valid coordinates are found </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/bala/workspace/ROS/hello-terp-ws/src/VOLTA/include/<a class="el" href="ChargeDockDetection_8h_source.html">ChargeDockDetection.h</a></li>
<li>/home/bala/workspace/ROS/hello-terp-ws/src/VOLTA/src/ChargeDockDetection.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
